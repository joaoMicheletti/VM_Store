<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="imagem/png" href="assets/favicon-16x16.png" />
    <link rel="stylesheet" href="./indexStyle.css"/>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <title>VM Store</title>
    <script>
        const url = 'http://192.168.15.9:3000/image/';
        const acessoriosF = [];
        const acessoriosM = [];
        const sapatosF = [];
        const sapatosM = [];
        const roupasF = [];
        const roupasM = [];
        
        let currentRoupaFIndex = 0;
        let currentAcessorioFIndex = 0;
        let currentSapatoFIndex = 0;
        let currentRoupaMIndex = 0;
        let currentAcessorioMIndex = 0;
        let currentSapatoMIndex = 0;
    
        window.onload = async function() {
            const Api = axios;
            await Api.get('http://192.168.15.9:3000/produto').then((Response) => {
                console.log(Response);
                var produtos = Response.data.produtos;
                var c = 0;
                while(c < produtos.length){
                    if(produtos[c].sexo === 'masculino'){
                        if(produtos[c].categoria === 'acessorios'){
                            acessoriosM.push(produtos[c]);
                        } else if(produtos[c].categoria === 'sapatos'){
                            sapatosM.push(produtos[c]);
                        } else if(produtos[c].categoria === 'roupas'){
                            roupasM.push(produtos[c]);
                        };
                    } else if(produtos[c].sexo === 'feminino'){
                        if(produtos[c].categoria === 'acessorios'){
                            acessoriosF.push(produtos[c]);
                        } else if(produtos[c].categoria === 'sapatos'){
                            sapatosF.push(produtos[c]);
                        } else if(produtos[c].categoria === 'roupas'){
                            roupasF.push(produtos[c]);
                        }
                    };
                    c+=1;
                };

                // Garantir que os elementos comecem com uma imagem
                updateRoupasFImages();
                updateAcessoriosFImages();
                updateSapatosFImages();
                updateRoupasMImages();
                updateAcessoriosMImages();
                updateSapatosMImages();
                
            }).catch((Erro) => {
                console.log(Erro);
            });
        };
    
        // Atualiza as imagens das roupas femininas com base no índice atual
        function updateRoupasFImages() {
            document.querySelector('#RF01').src = url + roupasF[currentRoupaFIndex % roupasF.length].img;
            document.querySelector('#RF01').alt = roupasF[currentRoupaFIndex % roupasF.length].id;
            document.querySelector('#RF02').src = url + roupasF[(currentRoupaFIndex + 1) % roupasF.length].img;
            document.querySelector('#RF02').alt = roupasF[(currentRoupaFIndex + 1) % roupasF.length].id;
            document.querySelector('#RF03').src = url + roupasF[(currentRoupaFIndex + 2) % roupasF.length].img;
            document.querySelector('#RF03').alt = roupasF[(currentRoupaFIndex + 2) % roupasF.length].id;
        }

        function updateAcessoriosFImages() {
            document.querySelector('#AF01').src = url + acessoriosF[currentAcessorioFIndex % acessoriosF.length].img;
            document.querySelector('#AF01').alt = acessoriosF[currentAcessorioFIndex % acessoriosF.length].id;
            document.querySelector('#AF02').src = url + acessoriosF[(currentAcessorioFIndex + 1) % acessoriosF.length].img;
            document.querySelector('#AF02').alt = acessoriosF[(currentAcessorioFIndex + 1) % acessoriosF.length].id;
            document.querySelector('#AF03').src = url + acessoriosF[(currentAcessorioFIndex + 2) % acessoriosF.length].img;
            document.querySelector('#AF03').alt = acessoriosF[(currentAcessorioFIndex + 2) % acessoriosF.length].id;
        }

        function updateSapatosFImages() {
            document.querySelector('#SF01').src = url + sapatosF[currentSapatoFIndex % sapatosF.length].img;
            document.querySelector('#SF01').alt = sapatosF[currentSapatoFIndex % sapatosF.length].id;
            document.querySelector('#SF02').src = url + sapatosF[(currentSapatoFIndex + 1) % sapatosF.length].img;
            document.querySelector('#SF02').alt = sapatosF[(currentSapatoFIndex + 1) % sapatosF.length].id;
            document.querySelector('#SF03').src = url + sapatosF[(currentSapatoFIndex + 2) % sapatosF.length].img;
            document.querySelector('#SF03').alt = sapatosF[(currentSapatoFIndex + 2) % sapatosF.length].id;
        }

        function updateRoupasMImages() {
            document.querySelector('#RM01').src = url + roupasM[currentRoupaMIndex % roupasM.length].img;
            document.querySelector('#RM01').alt = roupasM[currentRoupaMIndex % roupasM.length].id;
            document.querySelector('#RM02').src = url + roupasM[(currentRoupaMIndex + 1) % roupasM.length].img;
            document.querySelector('#RM02').alt = roupasM[(currentRoupaMIndex + 1) % roupasM.length].id;
            document.querySelector('#RM03').src = url + roupasM[(currentRoupaMIndex + 2) % roupasM.length].img;
            document.querySelector('#RM03').alt = roupasM[(currentRoupaMIndex + 2) % roupasM.length].id;
        }

        function updateAcessoriosMImages() {
            document.querySelector('#AM01').src = url + acessoriosM[currentAcessorioMIndex % acessoriosM.length].img;
            document.querySelector('#AM01').alt = acessoriosM[currentAcessorioMIndex % acessoriosM.length].id;
            document.querySelector('#AM02').src = url + acessoriosM[(currentAcessorioMIndex + 1) % acessoriosM.length].img;
            document.querySelector('#AM02').alt = acessoriosM[(currentAcessorioMIndex + 1) % acessoriosM.length].id;
            document.querySelector('#AM03').src = url + acessoriosM[(currentAcessorioMIndex + 2) % acessoriosM.length].img;
            document.querySelector('#AM03').alt = acessoriosM[(currentAcessorioMIndex + 2) % acessoriosM.length].id;
        }

        function updateSapatosMImages() {
            document.querySelector('#SM01').src = url + sapatosM[currentSapatoMIndex % sapatosM.length].img;
            document.querySelector('#SM01').alt = sapatosM[currentSapatoMIndex % sapatosM.length].id;
            document.querySelector('#SM02').src = url + sapatosM[(currentSapatoMIndex + 1) % sapatosM.length].img;
            document.querySelector('#SM02').alt = sapatosM[(currentSapatoMIndex + 1) % sapatosM.length].id;
            document.querySelector('#SM03').src = url + sapatosM[(currentSapatoMIndex + 2) % sapatosM.length].img;
            document.querySelector('#SM03').alt = sapatosM[(currentSapatoMIndex + 2) % sapatosM.length].id;
        }
        // Funções de navegação (prev/next)
        function prevRoupaF() {
            currentRoupaFIndex = (currentRoupaFIndex - 1 + roupasF.length) % roupasF.length;
            updateRoupasFImages();
        }

        function nextRoupaF() {
            currentRoupaFIndex = (currentRoupaFIndex + 1) % roupasF.length;
            updateRoupasFImages();
        }

        function prevSapatoF() {
            currentSapatoFIndex = (currentSapatoFIndex - 1 + sapatosF.length) % sapatosF.length;
            updateSapatosFImages();
        }

        function nextSapatoF() {
            currentSapatoFIndex = (currentSapatoFIndex + 1) % sapatosF.length;
            updateSapatosFImages();
        }

        function prevAcessorioF() {
            currentAcessorioFIndex = (currentAcessorioFIndex - 1 + acessoriosF.length) % acessoriosF.length;
            updateAcessoriosFImages();
        }

        function nextAcessorioF() {
            currentAcessorioFIndex = (currentAcessorioFIndex + 1) % acessoriosF.length;
            updateAcessoriosFImages();
        }

        // Masculino
        function prevRoupaM() {
            currentRoupaMIndex = (currentRoupaMIndex - 1 + roupasM.length) % roupasM.length;
            updateRoupasMImages();
        }

        function nextRoupaM() {
            currentRoupaMIndex = (currentRoupaMIndex + 1) % roupasM.length;
            updateRoupasMImages();
        }

        function prevSapatoM() {
            currentSapatoMIndex = (currentSapatoMIndex - 1 + sapatosM.length) % sapatosM.length;
            updateSapatosMImages();
        }

        function nextSapatoM() {
            currentSapatoMIndex = (currentSapatoMIndex + 1) % sapatosM.length;
            updateSapatosMImages();
        }

        function prevAcessorioM() {
            currentAcessorioMIndex = (currentAcessorioMIndex - 1 + acessoriosM.length) % acessoriosM.length;
            updateAcessoriosMImages();
        }

        function nextAcessorioM() {
            currentAcessorioMIndex = (currentAcessorioMIndex + 1) % acessoriosM.length;
            updateAcessoriosMImages();
        }
        function SelectProduto(imgElemento){
            localStorage.setItem('id', imgElemento.alt);
            window.location.href = 'produto.html';
        };
    </script>
    
</head>
<body>
    <header>
        <div id="ContentHeader"> 
            <div id="campSeach">
                <input id="search" type="search" placeholder="  search"/>
                <img id="lupa" src="assets/lupa.png" alt="icon of search"/>
            </div>
            <div id="LogoAndName">
                <img  id="ImgLogo" src="assets/headerLogo.png" alt="logo Header"/>
                <h1 id="H1Name">Vita Micheletti</h1>
            </div>
            <div id="navigation">
                <a href="login.html"><img id="Profile" src="assets/perfil.png" alt="profile"/></a>
                <a href="carrinho.html"><img id="Cart" src="assets/sacola.png" alt="cart"/></a>
            </div>
        </div>
        <hr/>
        <div id="SubHeader">
            <div id="ContentSubHeader">
                <li><a href="index.html">Offerte</a></li>
                <li><a href="#Masculino" >Masculino</a></li>
                <li><a href="#Feminino">Feminino</a></li>
            </div>
        </div>
    </header> 
    <section id="Feminino">
        <h5>Moda Feminina</h5>
        <div id="RoupasF">
            <button class="btnPN" onclick="prevRoupaF()">&lt;</button>
            <div id="roupas-slide">
                <img alt="" onclick="SelectProduto(this)" id="RF01" class="imgSlides" src="" />
            </div>
            <div id="roupas-slide">
                <img alt="" onclick="SelectProduto(this)" id="RF02" class="imgSlides" src="" />
            </div>
            <div id="roupas-slide">
                <img alt="" onclick="SelectProduto(this)" id="RF03" class="imgSlides" src="" />
            </div>
            <button class="btnPN" onclick="nextRoupaF()">&gt;</button>
        </div>
        <br />
        <h5>Calçados Femininos</h5>
        <div id="SapatosF">
            <button class="btnPN" onclick="prevSapatoF()">&lt;</button>
            <div id="sapatos-slide">
                <img alt="" onclick="SelectProduto(this)" id="SF01" class="imgSlides" src="" />
            </div>
            <div id="sapatos-slide">
                <img alt="" onclick="SelectProduto(this)" id="SF02" class="imgSlides" src="" />
            </div>
            <div id="sapatos-slide">
                <img alt="" onclick="SelectProduto(this)" id="SF03" class="imgSlides" src="" />
            </div>
            <button class="btnPN" onclick="nextSapatoF()">&gt;</button>
        </div>
        <br />
        <h5>Acessorios</h5>    
        <div id="AcessoriosF">
            <button class="btnPN" onclick="prevAcessorioF()">&lt;</button>
            <div id="acessorios-slide">
                <img alt="" onclick="SelectProduto(this)" id="AF01" class="imgSlides" src="assets/vmstore.JPG"/>
                
            </div>
            <div id="acessorios-slide">
                <img alt="" onclick="SelectProduto(this)" id="AF02" class="imgSlides" src="assets/vmstore.JPG"/>
                
            </div>
            <div id="acessorios-slide">
                <img alt="" onclick="SelectProduto(this)" id="AF03" class="imgSlides" src="assets/vmstore.JPG"/>
                
            </div>
            <button class="btnPN" onclick="nextAcessorioF()">&gt;</button>
        </div>
    </section>
    <section id="Masculino">
        <br/>
        <br/>
        <h5>Moda Masculina</h5>
        <div id="RoupasMasculinas">
            <button class="btnPN" onclick="prevRoupaM()">&lt;</button>
            <div id="acessorios-slide">
                <img alt="" onclick="SelectProduto(this)" id="RM01" class="imgSlides" src="assets/vmstore.JPG"/>
                
            </div>
            <div id="acessorios-slide">
                <img alt="" onclick="SelectProduto(this)" id="RM02" class="imgSlides" src="assets/vmstore.JPG"/>
                
            </div>
            <div id="acessorios-slide">
                <img alt="" onclick="SelectProduto(this)" id="RM03" class="imgSlides" src="assets/vmstore.JPG"/>
                
            </div>
            <button class="btnPN" onclick="nextRoupaM()">&gt;</button>
        </div>
        <br/>
        <br/>
        <h5>Calçados Masculinos</h5>
        <div id="RoupasMasculinas">
            <button class="btnPN" onclick="prevSapatoM()">&lt;</button>
            <div id="acessorios-slide">
                <img alt="" onclick="SelectProduto(this)" id="SM01" class="imgSlides" src="assets/vmstore.JPG"/>
                
            </div>
            <div id="acessorios-slide">
                <img alt="" onclick="SelectProduto(this)" id="SM02" class="imgSlides" src="assets/vmstore.JPG"/>
                
            </div>
            <div id="acessorios-slide">
                <img alt="" onclick="SelectProduto(this)" id="SM03" class="imgSlides" src="assets/vmstore.JPG"/>
                
            </div>
            <button class="btnPN" onclick="nextSapatoM()">&gt;</button>
        </div>
        <br/>
        <br/>
        <h5>Acessorios Masculinos</h5>
        <div id="RoupasMasculinas">
            <button class="btnPN" onclick="prevAcessorioM()">&lt;</button>
            <div id="acessorios-slide">
                <img alt="" onclick="SelectProduto(this)" id="AM01" class="imgSlides" src="assets/vmstore.JPG"/>
                
            </div>
            <div id="acessorios-slide">
                <img alt="" onclick="SelectProduto(this)" id="AM02" class="imgSlides" src="assets/vmstore.JPG"/>
                
            </div>
            <div id="acessorios-slide">
                <img alt="" onclick="SelectProduto(this)" id="AM03" class="imgSlides" src="assets/vmstore.JPG"/>
                
            </div>
            <button class="btnPN" onclick="nextAcessorioM()">&gt;</button>
        </div>
    </section>
    <br/>
    <footer>
        <div class="footer-container">
            <div class="footer-section">
                <p>&copy; 2024 Nome do Salão. Todos os direitos reservados.</p>
            </div>
            <div class="footer-section">
                <p>Horário de Funcionamento: 24H</p>
            </div>
            <div class="footer-section">
                <p>Desenvolvido por: <a href="https://nimble-conkies-fa2423curso-de-nodejs.netlify.app/vm/" target="_blank">VM_Software</a></p>
                <div class="social-links">
                    <a href="https://www.instagram.com/vm_software/" target="_blank">Facebook</a> | 
                    <a href="https://www.instagram.com/vm_software/" target="_blank">Instagram</a> | 
                    <a href="https://nimble-conkies-fa2423curso-de-nodejs.netlify.app/vm/" target="_blank">Site</a>
                </div>
            </div>
        </div>
    </footer>
</body>
</html>